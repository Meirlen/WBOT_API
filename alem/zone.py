
from shapely.geometry import Point, Polygon
from dataclasses import dataclass
from alem.alem_constans import *


@dataclass
class Zone:
    polygon: Polygon
    name: str 


def coord_parse(coords_text):
    res = []
    coord_parts = coords_text.split('|')
    for coord in coord_parts:
        lat = coord.split(',')[0]
        lng = coord.split(',')[1]
        res.append((float(lng),float(lat)))

    return res    

def create_zone(name,coordinates):
    coords = coord_parse(coordinates)
    return Zone(Polygon(coords),name)


def create_zones():
    res = []
    # Майкудук 
    coords_ma_1 = create_zone(M1,'73.189918,49.877465|73.190767,49.879113|73.197624,49.878257|73.197351,49.877562|73.200484,49.877145|73.200671,49.877905|73.203375,49.877577|73.204102,49.879494|73.208772,49.878877|73.215029,49.88691|73.218114,49.893651|73.216695,49.898007|73.214685,49.901034|73.213553,49.901776|73.208837,49.902221|73.187536,49.904307|73.184661,49.896472|73.179472,49.878533|73.189132,49.877319')
    coords_ma_2_1= create_zone(M2_1,'73.178958,49.878629|73.189822,49.877018|73.190602,49.879184|73.197615,49.878279|73.197274,49.877526|73.200505,49.87717|73.20072,49.877874|73.203297,49.87756|73.202894,49.87612|73.202985,49.8756|73.201925,49.870762|73.19527,49.871943|73.192448,49.87212|73.189373,49.872676|73.179032,49.873029|73.178662,49.877945')
    coords_ma_2_2 = create_zone(M2_2,'73.201925,49.870762|73.19527,49.871943|73.192448,49.87212|73.189373,49.872676|73.189025,49.872222|73.187603,49.871658|73.186783,49.868855|73.184965,49.862051|73.183023,49.85729|73.185211,49.857|73.186771,49.856838|73.189193,49.856581|73.190911,49.856407|73.193714,49.856126|73.197241,49.855743|73.199553,49.855366|73.200165,49.857799|73.211819,49.856228|73.212158,49.857488|73.210209,49.861661|73.207455,49.862129|73.20691,49.863441|73.205106,49.863962|73.203415,49.864362|73.202569,49.870466')

    coords_ma_3 = create_zone(M3,'73.185211,49.857|73.186771,49.856838|73.189193,49.856581|73.190911,49.856407|73.193714,49.856126|73.197241,49.855743|73.199553,49.855366|73.19922,49.854383|73.201618,49.853377|73.201531,49.852236|73.203159,49.851171|73.201745,49.845837|73.198535,49.845762|73.196897,49.844615|73.196057,49.843755|73.193641,49.837884|73.187429,49.830983|73.182511,49.828225|73.172407,49.832406|73.183807,49.840655|73.173635,49.842269|73.178996,49.851198|73.182962,49.857214|73.18473,49.857024')
    coords_ma_3_1 = create_zone(M3_1,'73.208838,49.848499|73.203245,49.850078|73.201534,49.84755|73.202287,49.847403|73.201832,49.845643|73.199065,49.836301|73.207296,49.833836|73.206165,49.832209|73.207647,49.831756|73.209416,49.833215|73.230598,49.828704|73.234944,49.829376|73.237822,49.833843|73.234007,49.834955|73.237913,49.847456|73.226719,49.84922|73.21893,49.847635|73.209509,49.848331')

    # юг
    coords_uv = create_zone(U,'73.149589,49.803428|73.144398,49.807863|73.147065,49.809647|73.146717,49.810421|73.152845,49.812292|73.158431,49.810608|73.180778,49.792486|73.177949,49.782383|73.170032,49.781463|73.16708,49.780219|73.164098,49.778867|73.159395,49.777071|73.155765,49.775449|73.155445,49.7753|73.156907,49.771736|73.15813,49.768518|73.159079,49.765989|73.160695,49.762117|73.154436,49.761472|73.15109,49.763289|73.146731,49.763649|73.140521,49.764697|73.137657,49.766023|73.135624,49.764871|73.1352,49.765024|73.13398,49.764429|73.130519,49.766108|73.128767,49.765152|73.122107,49.767033|73.120826,49.766717|73.119108,49.767473|73.121921,49.769644|73.121192,49.770126|73.120943,49.771726|73.120632,49.77167|73.120532,49.773406|73.12037,49.775683|73.121385,49.777219|73.118482,49.778541|73.120013,49.779473|73.12071,49.779843|73.119689,49.780518|73.122465,49.782761|73.122154,49.783034|73.122951,49.783709|73.125204,49.785438|73.125241,49.786796|73.122714,49.788115|73.120946,49.789305|73.121286,49.789828|73.121112,49.790037|73.121464,49.790476|73.121696,49.790969|73.122158,49.791503|73.122806,49.79176|73.124811,49.794218|73.125915,49.795268|73.130639,49.797659|73.131065,49.796846|73.131739,49.795829|73.132386,49.795282|73.135466,49.796762|73.141396,49.799629|73.149423,49.803349')

    # Район копера
    coords_k = create_zone('Район копера','73.079033,49.791551|73.083603,49.789175|73.085914,49.787975|73.081423,49.782557|73.076398,49.778516|73.068913,49.772103|73.059931,49.776503|73.055403,49.779559|73.052767,49.784772|73.056549,49.786457|73.060324,49.788481|73.062504,49.788914|73.071618,49.790038|73.073114,49.794776|73.075226,49.793655|73.079007,49.79155')
    
    # город
    coords_g = create_zone(C,'73.085183,49.788341|73.086258,49.788806|73.089,49.789716|73.090586,49.790783|73.091417,49.790634|73.094056,49.792117|73.109767,49.804523|73.11516,49.80882|73.119202,49.811503|73.123642,49.814335|73.127743,49.817018|73.131131,49.819173|73.135598,49.822071|73.129978,49.825844|73.122439,49.830937|73.113132,49.837062|73.110947,49.834285|73.09686,49.829793|73.092188,49.829965|73.08554,49.828515|73.079847,49.824398|73.074307,49.825357|73.072252,49.8255|73.073391,49.823499|73.074807,49.821334|73.071389,49.820353|73.073525,49.817252|73.074188,49.816688|73.07544,49.816884|73.075908,49.816503|73.075957,49.815252|73.076819,49.813823|73.076172,49.813528|73.077727,49.812372|73.080507,49.808552|73.082044,49.806489|73.083299,49.804731|73.083293,49.804736|73.083019,49.804717|73.081186,49.804693|73.080811,49.803677|73.081425,49.802429|73.082046,49.801381|73.084155,49.800809|73.0837,49.800214|73.079815,49.799099|73.07682,49.797161|73.073971,49.794865|73.072727,49.793224|73.072077,49.790957|73.073033,49.791084|73.074456,49.791295|73.076672,49.792891|73.085188,49.788341')

    # Михайловка
    coords_mi_1 = create_zone(MI1,'73.072853,49.802459|73.071568,49.804683|73.072557,49.808123|73.073025,49.811147|73.076261,49.813325|73.076108,49.81355|73.076924,49.813797|73.076778,49.814133|73.076072,49.814928|73.075914,49.815275|73.075683,49.816838|73.074207,49.816711|73.07376,49.817172|73.073685,49.817263|73.073561,49.817237|73.072592,49.818565|73.071369,49.820342|73.074668,49.821322|73.071039,49.826685|73.068993,49.829546|73.061042,49.827146|73.062985,49.824365|73.06418,49.822725|73.060248,49.821449|73.061509,49.819767|73.063037,49.817684|73.062804,49.817594|73.063295,49.816821|73.063962,49.816151|73.062588,49.81577|73.063579,49.814385|73.063738,49.814229|73.063875,49.813855|73.064047,49.813661|73.066465,49.8135|73.06712,49.813399|73.067188,49.812673|73.066816,49.81185|73.066173,49.810163|73.065039,49.807541|73.064559,49.806348|73.064174,49.805257|73.064062,49.805126|73.06391,49.804589|73.063644,49.804055|73.063537,49.804014|73.063364,49.803576|73.066068,49.80312|73.067342,49.802906|73.067171,49.802545|73.069727,49.802117|73.070744,49.801875|73.071781,49.801695|73.072321,49.801595|73.072433,49.801893|73.072857,49.802451')
    coords_mi_2 = create_zone(MI2,'73.060342,49.821426|73.063037,49.817684|73.062804,49.817594|73.063295,49.816821|73.063962,49.816151|73.062588,49.81577|73.063579,49.814385|73.063738,49.814229|73.063875,49.813855|73.064047,49.813661|73.066465,49.8135|73.06712,49.813399|73.067188,49.812673|73.066816,49.81185|73.066173,49.810163|73.065039,49.807541|73.064559,49.806348|73.064174,49.805257|73.064062,49.805126|73.06391,49.804589|73.063644,49.804055|73.063537,49.804014|73.063364,49.803576|73.066068,49.80312|73.067342,49.802906|73.067171,49.802545|73.069727,49.802117|73.070744,49.801875|73.071781,49.801695|73.072321,49.801595|73.071323,49.799294|73.068522,49.79734|73.067473,49.797375|73.067067,49.796378|73.067387,49.793966|73.067396,49.793485|73.066549,49.79216|73.063875,49.792203|73.06054,49.792012|73.061797,49.78967|73.05582,49.787998|73.055809,49.787377|73.053609,49.786571|73.052551,49.787017|73.051552,49.78802|73.048853,49.79171|73.050618,49.792214|73.05216,49.793147|73.050763,49.795182|73.049817,49.796544|73.04856,49.79823|73.047828,49.799321|73.046948,49.8007|73.047529,49.802287|73.048292,49.80436|73.049263,49.806763|73.050981,49.810957|73.052052,49.81385|73.052522,49.814755|73.054464,49.815301|73.053153,49.817107|73.055104,49.817699|73.053819,49.819483|73.060041,49.821381')
    coords_mi_3 = create_zone(MI3,'73.052421,49.792737|73.050763,49.795182|73.049817,49.796544|73.04856,49.79823|73.047828,49.799321|73.046948,49.8007|73.047529,49.802287|73.048292,49.80436|73.049263,49.806763|73.050981,49.810957|73.052052,49.81385|73.052522,49.814755|73.054464,49.815301|73.053153,49.817107|73.055104,49.817699|73.053701,49.819585|73.058766,49.821118|73.06405,49.822703|73.062743,49.824371|73.053371,49.821886|73.050769,49.821416|73.048442,49.823112|73.041843,49.822639|73.04049,49.822444|73.040923,49.820061|73.04164,49.818094|73.041873,49.81764|73.041781,49.816317|73.04111,49.813111|73.040993,49.810349|73.041111,49.809213|73.041221,49.804995|73.041326,49.802306|73.04138,49.798057|73.041323,49.793914|73.042552,49.790779|73.043749,49.789489|73.046627,49.786812|73.050094,49.784735|73.053435,49.785642|73.053448,49.786487|73.051907,49.787376|73.051174,49.788299|73.050339,49.789471|73.049785,49.790202|73.048734,49.791758|73.052235,49.792754')

    # Район рынка
    coords_r = create_zone(R,'73.11854,49.778567|73.118998,49.778192|73.120214,49.777527|73.120719,49.776623|73.120507,49.77602|73.11961,49.775362|73.11777,49.774123|73.114855,49.772203|73.110521,49.773547|73.10884,49.774011|73.106577,49.775636|73.106384,49.776627|73.105952,49.776608|73.100178,49.774538|73.094094,49.776431|73.086314,49.780349|73.08567,49.779716|73.081444,49.78173|73.081169,49.781963|73.089953,49.788781|73.095585,49.793134|73.100275,49.796855|73.104277,49.80008|73.109621,49.804352|73.112158,49.802779|73.114284,49.801472|73.117167,49.799915|73.118514,49.799419|73.119558,49.799185|73.120392,49.798762|73.121256,49.798251|73.122834,49.797153|73.124417,49.796124|73.125807,49.795273|73.124048,49.793479|73.123037,49.792335|73.121658,49.790909|73.12143,49.790381|73.121137,49.790053|73.121156,49.789878|73.12137,49.789666|73.121198,49.789139|73.122592,49.788222|73.124118,49.787439|73.125236,49.786833|73.125227,49.785441|73.123075,49.783807|73.122072,49.783016|73.122487,49.782795|73.119568,49.780445|73.12056,49.779705|73.118569,49.778598')

    # Район аэропрорт/хмк
    coords_ah = create_zone(HMK,'73.10984,49.80443|73.112204,49.803121|73.114474,49.801661|73.117357,49.800153|73.118526,49.799657|73.119506,49.799411|73.120519,49.798818|73.1214,49.798322|73.122989,49.797216|73.124515,49.796198|73.125957,49.795388|73.129213,49.798761|73.13124,49.796372|73.13396,49.797634|73.135044,49.796841|73.143269,49.800879|73.148561,49.803641|73.143633,49.807939|73.151221,49.811238|73.151895,49.818124|73.142047,49.825544|73.136179,49.822095|73.129311,49.817725|73.120786,49.812296|73.109889,49.804462')

    # Федоровка
    coords_f_1 = create_zone(F1,'73.094199,49.776461|73.086544,49.780487|73.085523,49.77973|73.081469,49.781735|73.081148,49.781923|73.076771,49.778192|73.079195,49.776597|73.08015,49.776124|73.082663,49.774982|73.08346,49.774323|73.082514,49.773836|73.083512,49.772953|73.08443,49.773456|73.085441,49.772831|73.086274,49.772066|73.089339,49.773587|73.091435,49.774469|73.092378,49.775003|73.094147,49.776245')
    coords_f_2 = create_zone(F2,'73.076435,49.777986|73.07937,49.776604|73.08015,49.776124|73.081639,49.775619|73.082663,49.774982|73.08337,49.774276|73.082447,49.773756|73.083518,49.772826|73.084379,49.773336|73.085346,49.772787|73.086368,49.771953|73.087477,49.772636|73.087857,49.772887|73.090962,49.774093|73.092386,49.774776|73.093474,49.775485|73.094343,49.776188|73.096156,49.775258|73.097851,49.774853|73.100428,49.774402|73.103236,49.775457|73.103753,49.775708|73.105263,49.776237|73.106309,49.776626|73.106447,49.775491|73.105401,49.773502|73.102191,49.771452|73.095101,49.768406|73.091391,49.766249|73.083761,49.76586|73.080237,49.769124|73.079777,49.769461|73.079948,49.769571|73.079569,49.769828|73.078958,49.770327|73.078768,49.770251|73.077564,49.771221|73.076755,49.770774|73.076172,49.771184|73.075733,49.771532|73.074854,49.772282|73.072938,49.773672|73.073663,49.775328|73.076278,49.777885')
    coords_f_3 = create_zone(F3,'73.080237,49.769124|73.079777,49.769461|73.079948,49.769571|73.079569,49.769828|73.078958,49.770327|73.078768,49.770251|73.077564,49.771221|73.076755,49.770774|73.076172,49.771184|73.075733,49.771532|73.074854,49.772282|73.072938,49.773672|73.067043,49.768143|73.057206,49.771516|73.044167,49.763808|73.037807,49.744751|73.047415,49.740991|73.058739,49.746116|73.066402,49.749984|73.067047,49.753153|73.070517,49.756208|73.072782,49.759023|73.074155,49.760969|73.083839,49.765525|73.080339,49.769074')
    


    # OLD
    # Сортировка
    coords_s = create_zone(S,'73.158356,49.946498|73.199503,49.933411|73.231896,49.950203|73.231896,49.950203|73.244088,49.971439|73.241477,49.981696|73.239426,49.985938|73.213661,49.986913|73.163361,49.96081|73.15819,49.946756')

    # Пришахтинск
    coords_p = create_zone(P,'49.93322,73.13826|49.84818,73.10986|49.83427,72.92002|49.95961,72.98207')



    res.append(coords_ma_1)
    res.append(coords_ma_2_2)
    res.append(coords_ma_2_1)
    res.append(coords_ma_3)
    res.append(coords_ma_3_1)
    res.append(coords_f_1)
    res.append(coords_f_2)
    res.append(coords_f_3)
    res.append(coords_uv)
    res.append(coords_g)
    res.append(coords_mi_1)
    res.append(coords_mi_2)
    res.append(coords_mi_3)
    res.append(coords_r)
    res.append(coords_k)
    res.append(coords_ah)
    res.append(coords_s)
    res.append(coords_p)

    return res